<!-- Logic App Run Visualizer Modal -->
<div class="modal-wrapper" id="logicAppModal">
  <div class="modal-playground">
    <!-- Modal Header -->
    <div class="modal-header">
      <h3 id="modal-title">Logic App Run</h3>
      <div class="modal-controls">
        <button id="send-report-btn" class="btn-send">
          <span class="upload-btn-icon"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><title>file_type_outlook</title><path d="M19.484,7.937v5.477L21.4,14.619a.489.489,0,0,0,.21,0l8.238-5.554a1.174,1.174,0,0,0-.959-1.128Z" style="fill:#ffffff"></path><path d="M19.484,15.457l1.747,1.2a.522.522,0,0,0,.543,0c-.3.181,8.073-5.378,8.073-5.378V21.345a1.408,1.408,0,0,1-1.49,1.555H19.483V15.457Z" style="fill:#ffffff"></path><path d="M10.44,12.932a1.609,1.609,0,0,0-1.42.838,4.131,4.131,0,0,0-.526,2.218A4.05,4.05,0,0,0,9.02,18.2a1.6,1.6,0,0,0,2.771.022,4.014,4.014,0,0,0,.515-2.2,4.369,4.369,0,0,0-.5-2.281A1.536,1.536,0,0,0,10.44,12.932Z" style="fill:#ffffff"></path><path d="M2.153,5.155V26.582L18.453,30V2ZM13.061,19.491a3.231,3.231,0,0,1-2.7,1.361,3.19,3.19,0,0,1-2.64-1.318A5.459,5.459,0,0,1,6.706,16.1a5.868,5.868,0,0,1,1.036-3.616A3.267,3.267,0,0,1,10.486,11.1a3.116,3.116,0,0,1,2.61,1.321,5.639,5.639,0,0,1,1,3.484A5.763,5.763,0,0,1,13.061,19.491Z" style="fill:#ffffff"></path></g></svg></span> Send Report
        </button>
        <button id="close-modal-btn" class="btn-close">×</button>
      </div>
    </div>

    <!-- Canvas controls -->
    <div class="canvas-controls">
      <button id="zoom-in" class="zoom-btn">+</button>
      <button id="zoom-out" class="zoom-btn">−</button>
      <button id="zoom-reset" class="zoom-btn"><i class="fa-solid fa-rotate-right"></i></button>
    </div>

    <!-- Canvas Container with Panning/Zooming -->
    <div class="canvas-container">
      <div id="flow-canvas" class="flow-canvas">
        <!-- Steps will be dynamically inserted here -->
      </div>
    </div>

    <!-- Modal Footer -->
    <div class="modal-footer">
      <div id="final-result-container">
        <!-- Final result will be shown here -->
      </div>
    </div>
  </div>
</div>

<!-- Node Template (hidden) -->
<template id="node-template">
  <div class="flow-node" data-step-index="0">
    <div class="node-header">
      <span class="node-icon"></span>
      <span class="node-title"></span>
    </div>
    <div class="node-content">
      <div class="node-details"></div>
    </div>
    <div class="node-status">
      <span class="status-icon"></span>
      <span class="status-text"></span>
    </div>
  </div>
</template>

<!-- Email Status Notification -->
<div id="email-status" class="email-status">
  <span class="email-status-message"></span>
</div>